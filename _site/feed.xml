<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.3.3">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2024-06-30T01:27:35-06:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Quellus</title><subtitle>Learning Godot and teaching as I do</subtitle><author><name>Quellus</name><email>quellus7@gmail.com</email></author><entry><title type="html">Ballistic arc when you have a set start and end point in Godot</title><link href="http://localhost:4000/2024-06-30/godot-ballistics" rel="alternate" type="text/html" title="Ballistic arc when you have a set start and end point in Godot" /><published>2024-06-30T00:00:00-06:00</published><updated>2024-06-30T00:00:00-06:00</updated><id>http://localhost:4000/2024-06-30/godot-ballistics</id><content type="html" xml:base="http://localhost:4000/2024-06-30/godot-ballistics"><![CDATA[<p>I added a new tower to my tower defense game recently that launches missiles instead of firing bullets/lasers like my other towers do. Up until this point, all my bullets work just as a raycast, but I wanted the missiles for this tower to have a ballistic arch. I started searching for the best ways to do this and I believe I found a pretty straightforward solution.</p>

<p>Initially, I was trying to follow a Reddit post that goes through the trouble of calculating a sine wave, translating the sine wave to fit the environment, then have the bullet follow it. Oof getting that to work was difficult.</p>

<p>Eventually, I was introduced to bezier curves. Bezier curves take 4 points. P1 and P2 below denote the start and end of the curve. C1 and C2 are control points dictating how much curvature it will have.</p>

<p><img src="/BezierCurve.png" alt="Bezier Curve" /></p>

<p><code class="language-plaintext highlighter-rouge">Vector3</code> has a function called <a href="https://docs.godotengine.org/en/stable/classes/class_vector3.html#class-vector3-method-bezier-interpolate"><code class="language-plaintext highlighter-rouge">bezier_interpolate</code></a>. It takes those 4 points and a unit of time from 0 to 1, then returns a <code class="language-plaintext highlighter-rouge">Vector3</code> representing a position along the bezier curve. Translate the object or set it’s position to the return value, and you’re done.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var time_left_ratio = (time_left / total_time)
var p1 = start_pos
p1.y += peak_height
var p2 = target_pos
p2.y += peak_height
var next_position = start_pos.bezier_interpolate(p1, p2, target_pos, 1 - time_left_ratio)
look_at(next_position + Vector3(0.001, 0, 0), Vector3.UP)
position = next_position
</code></pre></div></div>

<p>A consideration to this method is that i</p>]]></content><author><name>Quellus</name><email>quellus7@gmail.com</email></author><category term="Godot," /><category term="Godot4," /><category term="Ballistics" /><summary type="html"><![CDATA[I added a new tower to my tower defense game recently that launches missiles instead of firing bullets/lasers like my other towers do. Up until this point, all my bullets work just as a raycast, but I wanted the missiles for this tower to have a ballistic arch. I started searching for the best ways to do this and I believe I found a pretty straightforward solution.]]></summary></entry></feed>